(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"6Ej3":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n=a("pVnL"),r=a.n(n),l=(t=a("lSNA"),a.n(t)),c=(n=a("J4zp"),a.n(n)),o=a("q1tI"),i=a.n(o),u=a("2fM7"),s=a("Vl3Y"),m=a("tsqr"),d=a("MoRW"),p=a("2/Rp"),f=a("bf48"),b=a("BMrR"),E=a("5rEg"),h=a("zeV3"),g=(t=a("OMq5"),a("Ty5D")),v=a("Nlzp"),y=a("DFOY"),O=a("pIwJ"),w=a("pZ3N");a("VENP").forEach((function(e){var t=w.filter((function(t){return t.code===e.cityCode}))[0];t&&(t.children=t.children||[],t.children.push({label:e.name,value:e.code}))})),w.forEach((function(e){var t=O.filter((function(t){return t.code===e.provinceCode}))[0];t&&(t.children=t.children||[],t.children.push({label:e.name,value:e.code,children:e.children}))}));var I=O.map((function(e){return{label:e.name,value:e.code,children:e.children}}));function j(e){var t=void 0===(t=e.value)?[]:t,a=e.change;return e.onChange,i.a.createElement(y.a,{options:I,value:t,showSearch:!0,onChange:function(e,t){a(t.map((function(e){return e.label})))},placeholder:"\u8bf7\u9009\u62e9\u5730\u5740",style:{width:400}})}n=a("o0o1");var S=a.n(n),C=(n=a("yXPU"),a.n(n)),P=a("lrIw"),F=a("0iz5");function k(e){var t=e.onChange,a=void 0===(l=e.value)?"":l,n=e.region,r=e.change,l=a.split(","),u=(a=(e=c()(l,2))[0],l=e[1],e=Object(o.useState)([{address:a,title:l}]),e=(l=c()(e,2))[0],l[1]),s=((l=Object(F.b)(v.L,{manual:!0,initialData:[],formatResult:function(e){return e.result},onSuccess:function(e){e=e&&e.map((function(e){return{value:e.address,item:e,label:i.a.createElement(h.b,{justify:"space-between"},i.a.createElement("div",null,i.a.createElement("div",null,e.title),i.a.createElement("div",{style:{fontSize:12}},e.address)))}})),u(e)},debounceInterval:500})).loading,l.run);l=function(){var e=C()(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({region:n,keyword:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(P.a,{options:e,allowClear:!0,notFoundContent:i.a.createElement("span",null,"\u6ca1\u6709\u641c\u7d22\u5230\u8be5\u5730\u5740"),onSelect:function(e,a){r(a.item);var n=a.item,l=n.title;a=n.address;n.location,t("".concat(a,",").concat(l))},onSearch:l,onChange:function(e){t(e)},value:a,disabled:!n},i.a.createElement(E.a,{placeholder:"\u8f93\u5165\u95e8\u5e97\u5730\u5740",className:"custom"}))}var q=a("5psM"),z=a("mBUg"),L=(n=a("LaO/"),a.n(n)),N=function(e){var t=(e=void 0===(t=e.value)?"":t).split(","),a=(t=c()(t,2))[0],n=t[1];t={latitude:a,longitude:n};return i.a.createElement("div",null,i.a.createElement("div",{style:{width:500,height:250}},0<e.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{center:t,mySpot:t,initialOptions:{zoomControl:!0,mapTypeControl:!1},apiKey:"PYHBZ-DYXLR-4T4WX-WQGEE-MRX6J-B5BM3"}))),i.a.createElement("p",{style:{fontSize:12}},"\u7ecf\u5ea6\uff1a",a," / \u7eac\u5ea6\uff1a",n))};function B(e,t){var a,n=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)),n}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=u.a.Option,M=t.a.formItemLayout,V=t.a.tailFormItemLayout,R=["\u672a\u6258\u7ba1","\u5df2\u6258\u7ba1","\u7981\u7528","\u5220\u9664"];function T(e){var t=s.a.useForm(),a=c()(t,1)[0],n=Object(g.i)().id,l=Object(q.a)("login"),y=c()(l,1)[0],O=Object(o.useState)(!1),w=(l=(t=c()(O,2))[0],t[1]),I=y.appId,S=y.username,C=(y.operatorId,y.operatorName),P=Object(z.a)().update,L=(O=Object(o.useState)([]),y=(t=c()(O,2))[0],t[1]),B=(O=Object(F.b)(v.q,{defaultParams:[{appId:I}]}),Object(F.b)(v.z,{manual:!0,onSuccess:function(e){"FAILED"===e.code&&m.b.info(e.msg),"SUCCESS"===e.code&&w(e.result)}})),T=Object(F.b)(v.I,{refreshDeps:[n],onSuccess:function(e){var t=(r=e.result).province,n=r.city,r=r.region;L([t,n,r]),a.setFieldsValue(e.result)},manual:!0});return Object(o.useEffect)((function(){"new"!=n&&T.run({appId:I,merchantCode:n})}),[n]),t=i.a.createElement(d.a,{status:"success",title:"Successfully Purchased Cloud Server ECS!",subTitle:"Order number: 2017182818828182881 Cloud server configuration takes 1-5 minutes, please wait.",extra:[i.a.createElement(p.a,{type:"primary",key:"console"},"\u8fd4\u56de"),i.a.createElement(p.a,{key:"buy"},"\u7ee7\u7eed\u6dfb\u52a0")]}),y=i.a.createElement(o.Fragment,null,i.a.createElement(f.a,{onBack:function(){return e.history.goBack()},title:"new"===n?"\u65b0\u589e\u95e8\u5e97":"\u7f16\u8f91\u95e8\u5e97",subTitle:"\u60a6\u55b5\u95e8\u5e97\u57fa\u672c\u4fe1\u606f",style:{marginBottom:30}}),i.a.createElement(b.a,null,i.a.createElement(s.a,r()({name:"store-modify"},M,{form:a,onFinish:"new"===n?function(e){delete e.confirm,B.run(D(D({},e),{},{appId:I,operationLoginName:S,operationName:C}))}:function(t){P.run(D(D({},t),{},{appId:I,merchantCode:n})).then((function(t){e.history.goBack()}))}}),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95e8\u5e97\u540d\u79f0!"}],label:"\u95e8\u5e97\u540d\u79f0",name:"merchantName",extra:"\u8bf7\u8f93\u5165\u4e2d\u6587\u95e8\u5e97\u540d\u79f0"},i.a.createElement(E.a,{placeholder:"\u8f93\u5165\u95e8\u5e97\u540d\u79f0"})),"new"!=n&&i.a.createElement(s.a.Item,{label:"\u72b6\u6001",name:"status"},i.a.createElement(u.a,{placeholder:"\u9009\u62e9\u72b6\u6001"},R.map((function(e,t){return i.a.createElement(x,{key:t,value:t},e)})))),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u795e\u76ee\u95e8\u5e97!"}],label:"\u795e\u76ee\u95e8\u5e97id",name:"deepCamShopId"},i.a.createElement(u.a,{placeholder:"\u9009\u62e9\u795e\u76ee\u95e8\u5e97"},null===(O=O.data)||void 0===O?void 0:O.result.map((function(e){return i.a.createElement(x,{value:e.id,key:e.id},e.name)})))),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u95e8\u5e97\u6240\u5728\u7701\u5e02\u533a!"}],label:"\u95e8\u5e97\u7701\u5e02\u533a"},i.a.createElement(j,{change:function(e){var t=(r=c()(e,3))[0],n=r[1],r=r[2];L(e),a.setFieldsValue({province:t,city:n,region:r})},value:y})),i.a.createElement(s.a.Item,{noStyle:!0,name:"province",hidden:!0},i.a.createElement(E.a,null)),i.a.createElement(s.a.Item,{noStyle:!0,name:"city",hidden:!0},i.a.createElement(E.a,null)),i.a.createElement(s.a.Item,{noStyle:!0,name:"region",hidden:!0},i.a.createElement(E.a,null)),i.a.createElement(s.a.Item,{noStyle:!0,name:"location",hidden:!0},i.a.createElement(E.a,null)),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95e8\u5e97\u5730\u5740!"}],label:"\u95e8\u5e97\u5730\u5740",name:"address"},i.a.createElement(k,{change:function(e){e.title,e.address,e=e.location,a.setFieldsValue({location:Object.values(e[0]||{}).join()})},region:a.getFieldValue("region")})),i.a.createElement(s.a.Item,{label:"\u95e8\u5e97\u4f4d\u7f6e",shouldUpdate:function(e,t){return e.location!==t.location}},(function(){return i.a.createElement(N,{value:a.getFieldValue("location")})})),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95e8\u5e97\u8054\u7cfb\u4eba!"}],label:"\u8054\u7cfb\u4eba",name:"contactName"},i.a.createElement(E.a,{placeholder:"\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d"})),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95e8\u5e97\u8054\u7cfb\u4eba\u7535\u8bdd!"}],label:"\u8054\u7cfb\u7535\u8bdd",name:"contactMobile"},i.a.createElement(E.a,{placeholder:"\u8f93\u5165\u8054\u7cfb\u7535\u8bdd",maxLength:"11"})),"new"===n&&i.a.createElement(o.Fragment,null,i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95e8\u5e97\u767b\u5f55\u540d!"}],extra:"\u8f93\u5165\u767b\u5f55\u540d,\u767b\u5f55\u540d\u957f\u5ea6\u4e3a6-12\u4f4d",label:"\u767b\u5f55\u540d",name:"loginName"},i.a.createElement(E.a,null)),i.a.createElement(s.a.Item,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u5bc6\u7801!"}],label:"\u767b\u5f55\u5bc6\u7801",extra:"\u8bf7\u8f93\u5165\u957f\u5ea6\u5927\u4e8e6\u4f4d\u6570\u5305\u542b\u5b57\u6bcd\u6570\u5b57\u7684\u5bc6\u7801",name:"password"},i.a.createElement(E.a.Password,{autoComplete:"new-password",placeholder:"\u8f93\u5165\u5bc6\u7801"})),i.a.createElement(s.a.Item,{name:"confirm",label:"\u786e\u8ba4\u5bc6\u7801",extra:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801\uff0c\u786e\u4fdd\u5bc6\u7801\u5bc6\u7801\u6b63\u786e",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801\u786e\u8ba4!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4!"):Promise.resolve()}}}]},i.a.createElement(E.a.Password,{autoComplete:"new-password",placeholder:"\u518d\u6b21\u786e\u8ba4\u5bc6\u7801"}))),i.a.createElement(s.a.Item,V,i.a.createElement(h.b,null,i.a.createElement(p.a,{type:"primary",htmlType:"submit",loading:B.loading},"new"==n?"\u786e\u5b9a\u521b\u5efa":"\u4fdd\u5b58\u95e8\u5e97"),i.a.createElement(p.a,{onClick:function(){return e.history.goBack()}},"\u53d6\u6d88")))))),i.a.createElement(o.Fragment,null,l?t:y)}},OMq5:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={formItemLayout:{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}},tailFormItemLayout:{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:5}}}}},mBUg:function(e,t,a){"use strict";var n=a("J4zp"),r=a.n(n),l=a("Nlzp"),c=a("5psM"),o=a("0iz5"),i=a("TeRw");t.a=function(e){var t=Object(c.a)("login");t={defaultParams:[{appId:r()(t,1)[0].appId}],onSuccess:function(e){"SUCCESS"===e.code&&i.a.success({message:e.msg}),"FAILED"===e.code&&i.a.warning({message:e.msg})},manual:!0};return{insert:Object(o.b)(l.z,t),deepShop:Object(o.b)(l.q,t),detail:Object(o.b)(l.I,t),door:Object(o.b)(l.h,t),update:Object(o.b)(l.P,t),lock:Object(o.b)(l.j,t)}}}}]);