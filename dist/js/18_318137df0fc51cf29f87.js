(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{QzTp:function(e,t,a){"use strict";a.r(t);var n=a("pVnL"),l=a.n(n),r=(n=a("lSNA"),a.n(n)),c=(n=a("J4zp"),a.n(n)),m=(n=a("q1tI"),a.n(n)),o=a("Nlzp"),i=a("2fM7"),d=a("Vl3Y"),s=a("tsqr"),u=a("VXEj"),p=a("1GRj"),E=a("zeV3"),b=a("PArb"),g=a("diRs"),f=a("5rEg"),I=a("2/Rp"),y=a("BMrR"),h=a("kPKH"),w=a("wCAj"),v=a("55Ip"),O=a("5psM"),j=a("0iz5"),C=a("Qcty"),P=a("EUoS"),k=(n=a("/N+z"),a.n(n));function x(e,t){var a,n=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)),n}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=i.a.Option;t.default=m.a.memo((function(e){function t(e){L.run(S(S({},e),{},{appId:n})).then((function(e){A()}))}var a=Object(O.a)("login"),n=c()(a,1)[0].appId,r=d.a.useForm(),x=c()(r,1)[0],R=["\u5728\u552e","\u552e\u7f44","\u9884\u6dd8\u6c70","\u6dd8\u6c70"],V={form:x,defaultParams:[{base:{appId:n}}],paginated:!0,cacheKey:"goodsList"},q=(B=Object(P.a)(o.t,S(S({},V),{},{formatResult:function(e){var t;return{list:null==e||null===(t=e.result)||void 0===t?void 0:t.map((function(e){return e.visible=!1,e})),total:e.totalCount}}}))).tableProps,D=B.search,N=(B.run,B.params,B.mutate),A=B.refresh,B=(a=D.type,r=D.changeType,V=D.submit,D.reset),L=Object(j.b)(o.w,{manual:!0,onSuccess:function(e){"FAILED"===e.code&&s.b.warn(e.msg),"SUCCESS"===e.code&&s.b.success(e.msg)}});D=[{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"goodsName",width:300,render:function(e,t){return m.a.createElement(u.b.Item.Meta,{avatar:m.a.createElement(p.a,{fallback:k.a,src:t.goodsImg,width:44,height:44}),title:e,description:t.goodsId})}},{title:"\u54c1\u724c",dataIndex:"goodsBrand"},{title:"\u8fdb\u8d27\u4ef7",dataIndex:"goodsCostPrice",render:function(e){return m.a.createElement("a",null,"\xa5",e)}},{title:"\u96f6\u552e\u4ef7",dataIndex:"goodsPrice",render:function(e){return m.a.createElement("a",null,"\xa5",e)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",key:"action",width:150,align:"center",render:function(e,a,n){return m.a.createElement(E.b,{split:m.a.createElement(b.a,{type:"vertical"})},m.a.createElement(g.a,{placement:"bottomRight",visible:a.visible,onVisibleChange:function(e){return t=e,a=n,void N((function(e){return e.list[a].visible=t,e}));var t,a},content:m.a.createElement("div",{style:{padding:"15px 15px 0"}},m.a.createElement(d.a,{initialValues:a,style:{width:440},onFinish:t,labelCol:{span:4}},m.a.createElement(d.a.Item,{name:"goodsName",label:"\u5546\u54c1\u540d\u79f0",rules:[{required:!0,message:"\u5fc5\u586b\u5546\u54c1\u540d\u79f0!"}]},m.a.createElement(f.a,null)),m.a.createElement(d.a.Item,{name:"goodsPrice",label:"\u5546\u54c1\u4ef7\u683c",rules:[{required:!0,message:"\u5fc5\u586b\u5546\u54c1\u4ef7\u683c!"}]},m.a.createElement(f.a,null)),m.a.createElement(d.a.Item,{name:"categoryId",hidden:!0}),m.a.createElement(d.a.Item,{name:"goodsUnitId",hidden:!0}),m.a.createElement(d.a.Item,{name:"goodsBrandId",hidden:!0}),m.a.createElement(d.a.Item,{name:"goodsCostPrice",label:"\u6210\u672c\u4ef7\u683c"},m.a.createElement(f.a,null)),m.a.createElement(d.a.Item,{name:"goodsBarcode",hidden:!0}),m.a.createElement(d.a.Item,{name:"goodsId",hidden:!0},m.a.createElement(f.a,null)),m.a.createElement(d.a.Item,{name:"merchantCode",hidden:!0}),m.a.createElement(d.a.Item,{name:"goodsStatus",label:"\u5546\u54c1\u72b6\u6001",rules:[{required:!0}]},m.a.createElement(i.a,null,R.map((function(e,t){return m.a.createElement(z,{value:t,key:t},e)})))),m.a.createElement(d.a.Item,null,m.a.createElement(I.a,{type:"primary",htmlType:"submit",loading:L.loading},"\u4fdd\u5b58")))),title:"\u5546\u54c1\u7f16\u8f91",trigger:"click"},m.a.createElement("a",null,"\u7f16\u8f91")))}}],r=m.a.createElement("div",null,m.a.createElement(d.a,{form:x},m.a.createElement(y.a,{gutter:24},m.a.createElement(h.a,{span:12},m.a.createElement(d.a.Item,{label:"\u5546\u54c1\u54c1\u724c",name:"brand"},m.a.createElement(f.a,{placeholder:"name"}))),m.a.createElement(h.a,{span:12},m.a.createElement(d.a.Item,{label:"\u6240\u5c5e\u673a\u6784",name:"goodsInfo"},m.a.createElement(f.a,{placeholder:"\u5546\u54c1\u540d\u79f0/\u5546\u54c1\u6761\u5f62\u7801\u7801/\u5546\u54c1Id"}))),m.a.createElement(h.a,{span:12},m.a.createElement(d.a.Item,{label:"\u5546\u54c1\u72b6\u6001",name:"size"},m.a.createElement(f.a,{placeholder:"name"}))),m.a.createElement(h.a,{span:12},m.a.createElement(d.a.Item,{label:"\u5546\u54c1\u7b5b\u9009",name:"barcode"},m.a.createElement(f.a,{placeholder:"\u5546\u54c1\u540d\u79f0/\u5546\u54c1\u6761\u5f62\u7801\u7801/\u5546\u54c1Id"})))),m.a.createElement(y.a,null,m.a.createElement(d.a.Item,{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(I.a,{type:"primary",onClick:V},"\u641c\u7d22"),m.a.createElement(I.a,{onClick:B,style:{marginLeft:16}},"\u91cd\u7f6e"),m.a.createElement(I.a,{type:"link",onClick:r},"\u8fd4\u56de"))))),V=m.a.createElement("div",null,m.a.createElement(d.a,{style:{display:"flex"},form:x},m.a.createElement(E.b,null,m.a.createElement(d.a.Item,{name:"merchantCode"},m.a.createElement(C.b,{placeholder:"\u9009\u62e9\u95e8\u5e97",onChange:V})),m.a.createElement(d.a.Item,{name:"goodsInfo"},m.a.createElement(f.a.Search,{placeholder:"\u5546\u54c1\u540d/\u6761\u5f62\u7801/\u5546\u54c1Id",style:{width:240},allowClear:!0,onSearch:V})))));return m.a.createElement("div",null,m.a.createElement(y.a,{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"}},"simple"===a?V:r,m.a.createElement(E.b,null,m.a.createElement(I.a,{type:"primary"},m.a.createElement(v.b,{to:"/merchant/goods/modify/new"},"\u521b\u5efa\u5546\u54c1")),m.a.createElement(I.a,null,"\u5bfc\u5165\u5546\u54c1"))),m.a.createElement(w.a,l()({columns:D},q,{rowKey:"goodsId"})))}))}}]);