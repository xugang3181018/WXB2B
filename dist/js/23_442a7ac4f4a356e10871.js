(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{B3DS:function(e,t,a){"use strict";a.r(t);var n=a("pVnL"),l=a.n(n),r=(n=a("lSNA"),a.n(n)),c=(n=a("J4zp"),a.n(n)),i=a("q1tI"),o=a.n(i),m=(n=a("2fM7"),a("Vl3Y")),u=a("tsqr"),d=a("VXEj"),p=a("1GRj"),s=a("mr32"),b=a("zeV3"),f=a("PArb"),E=a("BMrR"),y=a("kPKH"),O=a("5rEg"),v=a("2/Rp"),j=a("wCAj"),g=a("/wGt"),h=a("Nlzp"),w=a("B0Bl"),P=a("55Ip"),I=a("gFTJ"),k=a("W9HT"),C=a("Tckk"),D=a("5psM"),N=a("0iz5");function S(e,t){var a,n=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)),n}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=I.a.Item,R=o.a.memo((function(e){var t=e.id,a=Object(D.a)("login"),n={appId:(e=c()(a,1)[0]).appId,merchantCode:e.merchantCode},l=(a={defaultParams:[n],initialData:[],ready:t,manual:!0,formatResult:function(e){return e.result},refreshDeps:[t]},a=(e=Object(N.b)(h.n,x(x({},a),{},{initialData:{}}))).data,e.run);e=e.loading;return Object(i.useEffect)((function(){l(x({id:t},n))}),[t]),o.a.createElement(k.a,{spinning:e},o.a.createElement(i.Fragment,null,o.a.createElement(E.a,null,o.a.createElement(d.b.Item.Meta,{avatar:o.a.createElement(C.a,{size:68,alt:null==a?void 0:a.employeeName,src:null==a?void 0:a.headImgUrl}),title:o.a.createElement(b.b,null,o.a.createElement("h2",null,null==a?void 0:a.employeeName,o.a.createElement(s.a,{color:"blue"},null==a?void 0:a.levelName))),description:null==a?void 0:a.mobile}),o.a.createElement(v.a,{type:"link"},o.a.createElement(P.b,{to:"/staff/modify/".concat(null==a?void 0:a.id)},"\u7f16\u8f91"))),o.a.createElement(f.a,null),o.a.createElement(I.a,{title:"\u57fa\u7840\u4fe1\u606f",column:2},o.a.createElement(T,{label:"\u90e8\u95e8id"},null==a?void 0:a.departmentId," "),o.a.createElement(T,{label:"\u5458\u5de5\u59d3\u540d"},null==a?void 0:a.employeeName," "),o.a.createElement(T,{label:"\u804c\u4f4did"},null==a?void 0:a.positionId," "),o.a.createElement(T,{label:"\u5de5\u53f7\uff08code\uff09"},null==a?void 0:a.jobNumber," "),o.a.createElement(T,{label:"\u6027\u522b"},["\u7537","\u5973"][null==a?void 0:a.gender]," "),o.a.createElement(T,{label:"\u624b\u673a\u53f7"},null==a?void 0:a.mobile," "),o.a.createElement(T,{label:"\u90ae\u4ef6"},null==a?void 0:a.email," "),o.a.createElement(T,{label:"\u521b\u5efa\u65f6\u95f4"},null==a?void 0:a.createTime," "),o.a.createElement(T,{label:"\u5ba2\u670d\u7c7b\u578b"},null==a?void 0:a.typeName," "),o.a.createElement(T,{label:"\u5ba2\u670d\u7b49\u7ea7"},null==a?void 0:a.levelName," "))))})),z=a("EUoS");function M(e,t){var a,n=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)),n}n.a.Option;var A=["\u7537 ","\u5973"];t.default=function(e){var t=((D=o.a.useContext(w.a).login).merchantCode,D.appId),a=m.a.useForm(),n=c()(a,1)[0],I=[{base:B={appId:t}}],k=(S=Object(z.a)(h.T,{form:n,paginated:!0,defaultParams:I})).tableProps,C=S.search,D=(S.mutate,S.refresh,C.type),S=(a=C.changeType,I=C.submit,C.reset),x=Object(N.b)(h.K,{formatResult:function(e){return e.result},defaultParams:[function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},B)]}),T=(C=(Object(N.b)(h.A,{manual:!0,formatResult:function(e){return u.b.info(e.msg),e},defaultParams:[B]}),Object(i.useState)(!1)),(B=c()(C,2))[0]);B[1],Object(i.useEffect)((function(){T.merchantCodes&&x.run({appId:t})}),[T]);C=[{title:"\u5ba2\u670d",width:230,render:function(e,t){return o.a.createElement(d.b.Item.Meta,{avatar:o.a.createElement(p.a,{width:50,src:t.headImgUrl}),title:t.employeeName,description:t.mobile})}},{dataIndex:"typeName",title:"\u5458\u5de5\u7c7b\u578b"},{dataIndex:"levelName",title:"\u5ba2\u670d\u7b49\u7ea7",render:function(e){return o.a.createElement(s.a,{color:"red"},e)}},{dataIndex:"gender",title:"\u6027\u522b",render:function(e){return o.a.createElement("span",null,A[e])}},{dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f41",width:300},{title:"\u64cd\u4f5c",align:"center",render:function(e,t,a){return o.a.createElement(b.b,{split:o.a.createElement(f.a,{type:"vertical"})},o.a.createElement(P.b,{to:"/staff/modify/".concat(t.id)},"\u7f16\u8f91"),o.a.createElement("a",{onClick:function(){return F(t.id)}},"\u8be6\u60c5"))}}];var B=o.a.createElement("div",null,o.a.createElement(m.a,{form:n},o.a.createElement(E.a,{gutter:24},o.a.createElement(y.a,{span:8},o.a.createElement(m.a.Item,{label:"name"},o.a.createElement(O.a,{placeholder:"name"}))),o.a.createElement(y.a,{span:8},o.a.createElement(m.a.Item,{label:"email",name:"mobile"},o.a.createElement(O.a,{placeholder:"\u624b\u673a\u53f7"})))),o.a.createElement(E.a,null,o.a.createElement(m.a.Item,{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement(v.a,{type:"primary",onClick:I},"\u641c\u7d22\u4f1a\u5458"),o.a.createElement(v.a,{onClick:S,style:{marginLeft:16}},"\u91cd\u7f6e"),o.a.createElement(v.a,{type:"link",onClick:a},"\u8fd4\u56de"))))),F=(S=o.a.createElement("div",null,o.a.createElement(m.a,{form:n,style:{display:"flex"}},o.a.createElement(m.a.Item,{name:"mobile"},o.a.createElement(O.a.Search,{placeholder:"\u8f93\u5165\u624b\u673a\u53f7\u67e5\u8be2",style:{width:240},onSearch:I})))),a=Object(i.useState)(!1),a=(n=c()(a,2))[0],n[1]);return o.a.createElement(i.Fragment,null,o.a.createElement("div",null,o.a.createElement(E.a,{justify:"space-between"},"simple"===D?S:B,o.a.createElement(y.a,null,o.a.createElement(b.b,null,o.a.createElement(v.a,{onClick:I},"\u5237\u65b0"),o.a.createElement(v.a,{type:"primary"},o.a.createElement(P.b,{to:"/staff/modify/new"},"\u521b\u5efa\u5ba2\u670d"))))),o.a.createElement(j.a,l()({columns:C,rowKey:"id"},k))),o.a.createElement(g.a,{width:900,title:"\u5ba2\u670d\u8be6\u60c5",placement:"right",closable:!0,onClose:function(){return F(!1)},visible:a},o.a.createElement(R,{id:a})))}}}]);